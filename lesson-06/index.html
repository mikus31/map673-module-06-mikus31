<!DOCTYPE html>
<html>

<head>
    <title>673 Module 07 Carto Starter Template</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/3.15/themes/css/cartodb.css" />
    <style>
        html,
        body,
        #map {
            height: 100%;
            padding: 0;
            margin: 0;
        }
    </style>
</head>

<body>
    <div id="map"></div>
    <script src="http://libs.cartocdn.com/cartodb.js/v3/3.15/cartodb.js"></script>
    <!--    cartocss rules go here-->
    <script type="cartocss/html" id="counties-styles"> #layer { polygon-fill: ramp([uninsured], (#ffffb2, #fecc5c, #fd8d3c, #f03b20, #bd0026), jenks); line-width: 1; line-color: #FFF; line-opacity: 0.5; } </script>
    <script>
        // your JS here
        var map = L.map('map', {
            center: [-10, 0]
            , zoom: 4.5
        });
        var cartoCSS = "#layer {" + "polygon-fill: ramp([uninsured], (#ffffb2, #fed976, #feb24c, #fd8d3c, #fc4e2a, #e31a1c, #b10026), jenks);" + "line-width: 1;" + "line-color: #FFF;" + "line-opacity: 0.5;" + "}";
        var sourceObject = {
            user_name: 'mikus31', // string of your CARTO user name
            type: 'cartodb'
            , sublayers: [
                {
                    sql: "SELECT ST_Transform(the_geom, 2163) AS the_geom_webmercator, cartodb_id, uninsured FROM uninsured_adults_county"
                    , cartocss: $("#counties-styles").text() // string of CartoCSS rules for styling the layer
        }
    ]
        }
        cartodb.createLayer(map, sourceObject).addTo(map);
    </script>
</body>

</html>